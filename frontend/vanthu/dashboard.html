<!-- File: vanthu/dashboard.html -->
<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
      Hệ thống Quản lý Văn bản &amp; Điều hành • Trang tổng quan (Văn thư)
    </title>


    <!-- App theme overrides -->
    <link rel="stylesheet" href="../assets/css/styles.css" />
  </head>
  <body class="bg-slate-100 text-slate-800" data-page="dashboard" data-role="vanthu" data-root="..">
    <!-- ===========================
        HEADER
  ============================ -->
    <div data-include="header"></div>

    <!-- ===========================
        SHELL
  ============================ -->
    <div class="pt-14">
      <div class="flex">
        <!-- ====== SIDEBAR ====== -->
        <div data-include="sidebar"></div>

        <!-- ====== MAIN ====== -->
        <main class="w-full">
          <div class="max-w-none px-6 lg:px-8 py-6 lg:py-7">
            <!-- ====== TOP KPI CARDS ====== -->
            <section
              class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 lg:gap-6"
            >
              <!-- Văn bản đến chưa xử lý -->
              <article class="bg-white border border-slate-200 rounded-xl p-4">
                <div class="flex items-start justify-between">
                  <h3 class="text-[13px] font-semibold text-slate-600">
                    Văn bản đến chưa xử lý
                  </h3>
                  <button
                    class="p-1.5 rounded hover:bg-slate-100"
                    title="Tùy chọn"
                    aria-label="Tùy chọn"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-4 w-4 text-slate-400"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                      aria-hidden="true"
                    >
                      <path
                        d="M10 3a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM10 8.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM10 14a1.5 1.5 0 110 3 1.5 1.5 0 010-3z"
                      />
                    </svg>
                  </button>
                </div>
                <div class="pt-2">
                  <div
                    id="kpi-den-chua-xuly"
                    class="text-3xl font-bold"
                    data-value="8"
                  >
                    8
                  </div>
                  <div class="text-[13px] text-slate-500">
                    Cần tiếp nhận và phân phối
                  </div>
                </div>
              </article>

              <!-- Văn bản đi chưa phát hành -->
              <article class="bg-white border border-slate-200 rounded-xl p-4">
                <div class="flex items-start justify-between">
                  <h3 class="text-[13px] font-semibold text-slate-600">
                    Văn bản đi chưa phát hành
                  </h3>
                  <button
                    class="p-1.5 rounded hover:bg-slate-100"
                    title="Tùy chọn"
                    aria-label="Tùy chọn"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-4 w-4 text-slate-400"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                      aria-hidden="true"
                    >
                      <path d="M3 3h14v2H3zM3 9h14v2H3zM3 15h14v2H3z" />
                    </svg>
                  </button>
                </div>
                <div class="pt-2">
                  <div
                    id="kpi-di-chua-phathanh"
                    class="text-3xl font-bold"
                    data-value="5"
                  >
                    5
                  </div>
                  <div class="text-[13px] text-slate-500">
                    Cần xử lý phát hành
                  </div>
                </div>
              </article>

              <!-- Văn bản khẩn -->
              <article class="bg-white border border-slate-200 rounded-xl p-4">
                <div class="flex items-start justify-between">
                  <h3 class="text-[13px] font-semibold text-slate-600">
                    Văn bản khẩn
                  </h3>
                  <button
                    id="btn-xem-khan"
                    class="p-1.5 rounded hover:bg-slate-100"
                    title="Xem tất cả"
                    aria-label="Xem tất cả"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-4 w-4 text-slate-400"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                      aria-hidden="true"
                    >
                      <path d="M12 2l7 19-7-4-7 4 7-19z" />
                    </svg>
                  </button>
                </div>
                <div class="pt-2">
                  <div id="kpi-khan" class="text-3xl font-bold" data-value="6">
                    6
                  </div>
                  <div class="text-[13px] text-slate-500">
                    Cần xử lý ưu tiên
                  </div>
                </div>
              </article>

              <!-- Văn bản đã lưu trữ -->
              <article class="bg-white border border-slate-200 rounded-xl p-4">
                <div class="flex items-start justify-between">
                  <h3 class="text-[13px] font-semibold text-slate-600">
                    Văn bản đã lưu trữ
                  </h3>
                  <button
                    class="p-1.5 rounded hover:bg-slate-100"
                    title="Tùy chọn"
                    aria-label="Tùy chọn"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-4 w-4 text-slate-400"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                      aria-hidden="true"
                    >
                      <path d="M4 6h16v2H4zM4 11h16v2H4zM4 16h16v2H4z" />
                    </svg>
                  </button>
                </div>
                <div class="pt-2">
                  <div
                    id="kpi-luutru"
                    class="text-3xl font-bold"
                    data-value="20"
                  >
                    20
                  </div>
                  <div class="text-[13px] text-slate-500">
                    Đã hoàn thành quy trình
                  </div>
                </div>
              </article>
            </section>

            <!-- ====== URGENT LIST + DISPATCH TRACKING ====== -->
            <section class="mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- Văn bản cần xử lý khẩn -->
              <article class="bg-white border border-slate-200 rounded-xl">
                <header class="px-4 py-3 border-b border-slate-100">
                  <h3 class="text-[15px] font-semibold">
                    Văn bản cần xử lý khẩn
                  </h3>
                  <p class="text-[12.5px] text-slate-500 mt-0.5">
                    Danh sách văn bản ưu tiên cao cần xử lý ngay
                  </p>
                </header>

                <ul id="list-khan" class="divide-y divide-slate-100">
                  <!-- Row 1 -->
                  <li
                    class="px-4 py-3 flex items-start justify-between gap-4 hover:bg-slate-50/60"
                  >
                    <div>
                      <p class="font-medium">
                        Thông báo về việc tổ chức Đại hội Đảng bộ phường
                      </p>
                      <p class="text-[12.5px] text-slate-500">
                        Số: 001/TB-UBND | 2024-01-15 —
                        <span class="font-medium text-slate-600"
                          >Hạn: 2024-01-20</span
                        >
                      </p>
                    </div>
                    <div class="flex items-center gap-2">
                      <span
                        class="rounded-full bg-rose-600 text-white text-xs font-semibold px-2.5 py-1"
                        >Khẩn</span
                      >
                      <span
                        class="rounded-full bg-amber-50 text-amber-700 text-xs font-semibold px-2.5 py-1"
                        >Chờ duyệt</span
                      >
                    </div>
                  </li>

                  <!-- Row 2 -->
                  <li
                    class="px-4 py-3 flex items-start justify-between gap-4 hover:bg-slate-50/60"
                  >
                    <div>
                      <p class="font-medium">
                        Thông báo về việc kiểm tra an toàn thực phẩm
                      </p>
                      <p class="text-[12.5px] text-slate-500">
                        Số: 008/TB-UBND | 2024-01-30 —
                        <span class="font-medium text-slate-600"
                          >Hạn: 2024-02-05</span
                        >
                      </p>
                    </div>
                    <div class="flex items-center gap-2">
                      <span
                        class="rounded-full bg-rose-600 text-white text-xs font-semibold px-2.5 py-1"
                        >Khẩn</span
                      >
                      <span
                        class="rounded-full bg-slate-100 text-slate-700 text-xs font-semibold px-2.5 py-1"
                        >Chưa xử lý</span
                      >
                    </div>
                  </li>

                  <!-- Row 3 -->
                  <li
                    class="px-4 py-3 flex items-start justify-between gap-4 hover:bg-slate-50/60"
                  >
                    <div>
                      <p class="font-medium">
                        Thông báo thực hiện Nghị định 15/2024/NĐ-CP
                      </p>
                      <p class="text-[12.5px] text-slate-500">
                        Số: 018/TB-UBND | 2024-02-06 —
                        <span class="font-medium text-slate-600"
                          >Hạn: 2024-02-15</span
                        >
                      </p>
                    </div>
                    <div class="flex items-center gap-2">
                      <span
                        class="rounded-full bg-rose-600 text-white text-xs font-semibold px-2.5 py-1"
                        >Khẩn</span
                      >
                      <span
                        class="rounded-full bg-blue-50 text-blue-700 text-xs font-semibold px-2.5 py-1"
                        >Đang xử lý</span
                      >
                    </div>
                  </li>
                </ul>

                <!-- Xem tất cả -->
                <div class="px-4 py-3 border-t border-slate-100">
                  <button
                    id="btn-xem-tat-ca-khan"
                    class="w-full text-sm font-medium text-blue-700 hover:text-blue-800"
                  >
                    Xem tất cả văn bản khẩn
                  </button>
                </div>
              </article>

              <!-- Theo dõi phát hành -->
              <aside class="bg-white border border-slate-200 rounded-xl">
                <header class="px-4 py-3 border-b border-slate-100">
                  <h3 class="text-[15px] font-semibold">Theo dõi phát hành</h3>
                  <p class="text-[12.5px] text-slate-500">
                    dispatch_outbox • văn bản đi gần nhất
                  </p>
                </header>

                <ul id="dispatch-tracking" class="divide-y divide-slate-100">
                  <li
                    class="px-4 py-3 flex items-center justify-between hover:bg-slate-50/60"
                  >
                    <div class="flex items-start gap-3">
                      <div
                        class="mt-0.5 text-blue-600 font-semibold text-[13px]"
                      >
                        OUT
                      </div>
                      <div>
                        <p class="font-medium">VB-006/TB-UBND</p>
                        <p class="text-[12.5px] text-slate-500">
                          Gửi Sở Y tế Đà Nẵng • Phương thức: thư điện tử
                        </p>
                        <p class="text-[12px] text-slate-400">
                          Tracking: SMTP-240208-01 • Trạng thái: Đã gửi
                        </p>
                      </div>
                    </div>
                    <span
                      class="px-3 py-1.5 rounded-md bg-emerald-50 text-[12px] font-medium text-emerald-700"
                      >Đã phát hành</span
                    >
                  </li>

                  <li
                    class="px-4 py-3 flex items-center justify-between hover:bg-slate-50/60"
                  >
                    <div class="flex items-start gap-3">
                      <div
                        class="mt-0.5 text-blue-600 font-semibold text-[13px]"
                      >
                        OUT
                      </div>
                      <div>
                        <p class="font-medium">VB-011/QĐ-UBND</p>
                        <p class="text-[12.5px] text-slate-500">
                          Gửi UBND quận Thanh Khê • Phương thức: bưu chính
                        </p>
                        <p class="text-[12px] text-slate-400">
                          Tracking: VNPOST-240207-12 • Trạng thái: Đang chuyển
                        </p>
                      </div>
                    </div>
                    <span
                      class="px-3 py-1.5 rounded-md bg-amber-50 text-[12px] font-medium text-amber-700"
                      >Đang chuyển</span
                    >
                  </li>

                  <li
                    class="px-4 py-3 flex items-center justify-between hover:bg-slate-50/60"
                  >
                    <div class="flex items-start gap-3">
                      <div
                        class="mt-0.5 text-blue-600 font-semibold text-[13px]"
                      >
                        OUT
                      </div>
                      <div>
                        <p class="font-medium">VB-014/BCKQ</p>
                        <p class="text-[12.5px] text-slate-500">
                          Gửi các đơn vị phường • Phương thức: cổng DVC
                        </p>
                        <p class="text-[12px] text-slate-400">
                          Tracking: DVC-240205-05 • Trạng thái: Lỗi gửi
                        </p>
                      </div>
                    </div>
                    <span
                      class="px-3 py-1.5 rounded-md bg-rose-50 text-[12px] font-medium text-rose-700"
                      >Cần xử lý</span
                    >
                  </li>
                </ul>
              </aside>
            </section>

            <!-- ====== STATS + NOTIFICATIONS ====== -->
            <section class="mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- Thống kê xử lý văn bản -->
              <article class="bg-white border border-slate-200 rounded-xl">
                <header class="px-4 py-3 border-b border-slate-100">
                  <h3 class="text-[15px] font-semibold">
                    Thống kê xử lý văn bản
                  </h3>
                  <p class="text-[12.5px] text-slate-500">
                    Hiệu suất xử lý văn bản đến và đi
                  </p>
                </header>

                <div class="p-4 space-y-6">
                  <!-- VB đến -->
                  <div>
                    <div
                      class="flex items-center justify-between text-[12.5px] text-slate-500 mb-2"
                    >
                      <span>Văn bản đến đã xử lý</span>
                      <span
                        ><span id="vb-den-progress" data-progress="11">11</span
                        >/<span id="vb-den-total" data-total="19"
                          >19</span
                        ></span
                      >
                    </div>
                    <div class="h-2 rounded-full bg-slate-100 overflow-hidden">
                      <div
                        id="bar-vb-den"
                        class="h-full bg-slate-900/80"
                        style="width: 58%"
                      ></div>
                    </div>
                    <div class="text-[12.5px] text-slate-500 mt-1">
                      Tỷ lệ <span id="vb-den-percent">58</span>%
                    </div>
                  </div>

                  <!-- VB đi -->
                  <div>
                    <div
                      class="flex items-center justify-between text-[12.5px] text-slate-500 mb-2"
                    >
                      <span>Văn bản đi đã phát hành</span>
                      <span
                        ><span id="vb-di-progress" data-progress="9">9</span
                        >/<span id="vb-di-total" data-total="14">14</span></span
                      >
                    </div>
                    <div class="h-2 rounded-full bg-slate-100 overflow-hidden">
                      <div
                        id="bar-vb-di"
                        class="h-full bg-slate-900/80"
                        style="width: 64%"
                      ></div>
                    </div>
                    <div class="text-[12.5px] text-slate-500 mt-1">
                      Tỷ lệ <span id="vb-di-percent">64</span>%
                    </div>
                  </div>

                  <!-- Tiles -->
                  <div class="grid grid-cols-2 gap-4 pt-1">
                    <div
                      class="rounded-xl border border-slate-200 p-4 bg-slate-50"
                    >
                      <div class="flex items-center gap-3">
                        <div
                          class="grid place-items-center w-9 h-9 rounded-lg bg-slate-900/90 text-white"
                        >
                          📥
                        </div>
                        <div>
                          <p class="text-[12.5px] text-slate-500">
                            Văn bản đến
                          </p>
                          <p id="tile-vb-den" class="text-xl font-semibold">
                            19
                          </p>
                        </div>
                      </div>
                    </div>

                    <div
                      class="rounded-xl border border-slate-200 p-4 bg-emerald-50"
                    >
                      <div class="flex items-center gap-3">
                        <div
                          class="grid place-items-center w-9 h-9 rounded-lg bg-emerald-600 text-white"
                        >
                          📤
                        </div>
                        <div>
                          <p class="text-[12.5px] text-slate-600">Văn bản đi</p>
                          <p id="tile-vb-di" class="text-xl font-semibold">
                            14
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </article>

              <!-- Thông báo & Nhắc việc -->
              <aside class="bg-white border border-slate-200 rounded-xl">
                <header class="px-4 py-3 border-b border-slate-100">
                  <h3 class="text-[15px] font-semibold">
                    Thông báo &amp; Nhắc việc
                  </h3>
                  <p class="text-[12.5px] text-slate-500">
                    Thông báo hệ thống và nhắc việc quan trọng
                  </p>
                </header>

                <ul id="list-thongbao" class="p-2">
                  <li
                    class="px-3 py-3 rounded-lg hover:bg-slate-50 border-b border-slate-100 last:border-b-0"
                  >
                    <div class="flex items-start gap-3">
                      <div class="mt-0.5 text-blue-600">🔔</div>
                      <div class="flex-1">
                        <p class="font-medium text-[14px]">
                          Văn bản VB008 sắp hết hạn xử lý
                        </p>
                        <p class="text-[12.5px] text-slate-500">
                          Thông báo về việc kiểm tra an toàn thực phẩm sắp hết
                          hạn xử lý vào ngày 05/02/2024
                        </p>
                        <div class="text-[12px] text-slate-400 mt-1">
                          2024-02-03
                        </div>
                      </div>
                      <button
                        class="px-3 py-1.5 rounded-md bg-slate-100 text-[12px] font-medium hover:bg-slate-200"
                      >
                        Đánh dấu đã đọc
                      </button>
                    </div>
                  </li>

                  <li
                    class="px-3 py-3 rounded-lg hover:bg-slate-50 border-b border-slate-100 last:border-b-0"
                  >
                    <div class="flex items-start gap-3">
                      <div class="mt-0.5 text-blue-600">🔔</div>
                      <div class="flex-1">
                        <p class="font-medium text-[14px]">
                          Có văn bản mới cần xử lý
                        </p>
                        <p class="text-[12.5px] text-slate-500">
                          Công văn về công tác chuẩn bị bầu cử vừa được tiếp
                          nhận
                        </p>
                        <div class="text-[12px] text-slate-400 mt-1">
                          2024-02-07
                        </div>
                      </div>
                      <button
                        class="px-3 py-1.5 rounded-md bg-slate-100 text-[12px] font-medium hover:bg-slate-200"
                      >
                        Đánh dấu đã đọc
                      </button>
                    </div>
                  </li>

                  <li class="px-3 py-3 rounded-lg hover:bg-slate-50">
                    <div class="flex items-start gap-3">
                      <div class="mt-0.5 text-blue-600">⚠️</div>
                      <div class="flex-1">
                        <p class="font-medium text-[14px]">
                          Nhiệm vụ T006 đã quá hạn
                        </p>
                        <p class="text-[12.5px] text-slate-500">
                          Nhiệm vụ “Xử lý công văn về kỷ luật kỷ cương” đã quá
                          hạn hoàn thành
                        </p>
                        <div class="text-[12px] text-slate-400 mt-1">
                          2024-02-08
                        </div>
                      </div>
                      <button
                        class="px-3 py-1.5 rounded-md bg-slate-100 text-[12px] font-medium hover:bg-slate-200"
                      >
                        Đánh dấu đã đọc
                      </button>
                    </div>
                  </li>
                </ul>
              </aside>
            </section>
          </div>
        </main>
      </div>
    </div>

    <!-- ===========================
        FOOTER
  ============================ -->
    <div data-include="footer"></div>

    <!-- Toast (shared) -->
    <div id="toast" class="toast" aria-live="polite"></div>

    <!-- App script -->
    <script src="../assets/js/api.js"></script>
    <script src="../assets/js/layout.js"></script>
    <script src="../assets/js/vanthu.js"></script>

    <!-- Inline safety: minimal boot hooks so JS có thể bám vào đúng ID/DOM -->
    
  </body>
</html>
