<!-- File: chuyenvien/hosocongviec-detail.html -->
<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chuyên viên • Chi tiết hồ sơ công việc</title>


    <!-- App theme overrides -->
    <link rel="stylesheet" href="../assets/css/styles.css" />
  </head>

  <body class="bg-slate-100 text-slate-800" data-page="hosocongviec-detail" data-role="chuyenvien" data-root="..">
    <!-- ================= HEADER ================= -->
    <div data-include="header"></div>

    <!-- ================= SHELL ================= -->
    <div class="pt-14">
      <div class="flex">
        <!-- Sidebar -->
        <div data-include="sidebar"></div>

        <!-- Main -->
        <main class="w-full">
          <div class="max-w-none px-6 lg:px-8 py-6 lg:py-7 space-y-6">
            <!-- Breadcrumb (CV chỉ xem: không có action tạo/cập nhật) -->
            <div
              class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between"
            >
              <div class="flex items-center gap-2">
                <a
                  href="hosocongviec.html"
                  class="inline-flex items-center gap-2 h-9 px-3 rounded-md border border-slate-200 text-sm font-medium text-slate-700 hover:bg-slate-50"
                >
                  ← Danh sách hồ sơ
                </a>
                <span class="text-[13px] text-slate-500" data-case-code>
                  Hồ sơ công việc
                </span>
              </div>
              <!-- bỏ các nút 'Thêm nhiệm vụ' và 'Cập nhật trạng thái' cho CV -->
              <div class="flex items-center gap-2"></div>
            </div>

            <!-- Summary -->
            <article class="card p-5 space-y-4">
              <header class="space-y-2">
                <div class="flex flex-wrap items-center gap-2">
                  <span
                    class="px-2.5 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-semibold"
                    data-case-status-chip
                    >Đang thực hiện</span
                  >
                  <span
                    class="px-2.5 py-1 rounded-full bg-amber-100 text-amber-700 text-xs font-semibold"
                    data-case-priority-chip
                    >Ưu tiên cao</span
                  >
                </div>

                <h1 class="text-[19px] font-semibold text-slate-800" data-case-title>
                  Hồ sơ kiểm soát an toàn thực phẩm dịp Tết Quý Tỵ 2024
                </h1>

                <p class="text-[13px] text-slate-500 leading-relaxed" data-case-description>
                  Hồ sơ tập hợp các văn bản đến, văn bản đi và nhiệm vụ liên
                  quan đến kế hoạch kiểm tra ATTP tại địa bàn phường.
                </p>
              </header>

              <dl class="grid gap-4 md:grid-cols-3 text-[13px] text-slate-600">
                <div class="flex flex-col gap-1">
                  <dt class="font-semibold text-slate-700">Mã hồ sơ</dt>
                  <dd data-case-code>HS-2024-02</dd>
                </div>
                <div class="flex flex-col gap-1">
                  <dt class="font-semibold text-slate-700">Phòng phụ trách</dt>
                  <dd data-case-department>Phòng Hành chính</dd>
                </div>
                <div class="flex flex-col gap-1">
                  <dt class="font-semibold text-slate-700">Người chủ trì</dt>
                  <dd data-case-leader>Trần Thị Bình</dd>
                </div>
                <div class="flex flex-col gap-1">
                  <dt class="font-semibold text-slate-700">
                    Chuyên viên phụ trách
                  </dt>
                  <dd data-case-assignee>Nguyễn Văn An</dd>
                </div>
                <div class="flex flex-col gap-1">
                  <dt class="font-semibold text-slate-700">Hạn hoàn thành</dt>
                  <dd class="text-rose-600 font-medium" data-case-deadline>2024-02-15</dd>
                </div>
                <div class="flex flex-col gap-1">
                  <dt class="font-semibold text-slate-700">Ngày tạo</dt>
                  <dd data-case-created>2024-01-05</dd>
                </div>
                <div class="flex flex-col gap-1">
                  <dt class="font-semibold text-slate-700">Số nhiệm vụ</dt>
                  <dd data-case-task-count>6 nhiệm vụ</dd>
                </div>
              </dl>
            </article>
            <div class="text-sm text-rose-600 hidden" data-case-error role="status"></div>

            <!-- Members (read-only: bỏ 'Thêm thành viên') -->
            <section class="grid gap-6 lg:grid-cols-3">
              <article class="card p-5 lg:col-span-2">
                <header
                  class="flex items-center justify-between gap-2 border-b border-slate-100 pb-3"
                >
                  <div>
                    <h2 class="text-[15px] font-semibold text-slate-800">
                      Thành viên tham gia
                    </h2>
                    <p class="text-[12.5px] text-slate-500">
                      Thành viên tham gia hồ sơ
                    </p>
                  </div>
                  <!-- (removed) nút Thêm thành viên cho CV -->
                </header>

                <div class="overflow-x-auto -mx-5">
                  <table class="min-w-full text-[13px]">
                    <thead class="bg-slate-50 text-slate-600">
                      <tr>
                        <th class="px-5 py-3 text-left font-semibold">
                          Thành viên
                        </th>
                        <th class="px-5 py-3 text-left font-semibold">
                          Vai trò
                        </th>
                        <th class="px-5 py-3 text-left font-semibold">
                          Đơn vị
                        </th>
                        <th class="px-5 py-3 text-left font-semibold">
                          Tham gia
                        </th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-100" data-case-members>
                      <tr data-case-members-placeholder>
                        <td colspan="4" class="px-5 py-8 text-center text-sm text-slate-500">
                          Đang tải thành viên...
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </article>

              <aside class="card p-5 space-y-4">
                <header>
                  <h2 class="text-[15px] font-semibold text-slate-800">
                    Chỉ số tiến độ
                  </h2>
                  <p class="text-[12.5px] text-slate-500">
                    Tổng hợp từ nhiệm vụ
                  </p>
                </header>
                <ul class="space-y-3 text-[13px]">
                  <li class="flex items-center justify-between">
                    <span class="text-slate-600">Nhiệm vụ hoàn thành</span>
                    <span class="font-semibold text-emerald-600" data-case-metric="tasks-completed">3 / 6</span>
                  </li>
                  <li class="flex items-center justify-between">
                    <span class="text-slate-600">Nhiệm vụ quá hạn</span>
                    <span class="font-semibold text-rose-600" data-case-metric="tasks-overdue">2</span>
                  </li>
                  <li class="flex items-center justify-between">
                    <span class="text-slate-600">Văn bản liên quan</span>
                    <span class="font-semibold text-slate-700" data-case-metric="docs-count">5</span>
                  </li>
                  <li class="flex items-center justify-between">
                    <span class="text-slate-600">Nhắc việc đang mở</span>
                    <span class="font-semibold text-amber-600" data-case-metric="tasks-open">4</span>
                  </li>
                </ul>
              </aside>
            </section>

            <!-- Tasks (CV được cập nhật file) + Activity (CV được ghi nhật ký) -->
            <section class="grid gap-6 lg:grid-cols-2">
              <!-- Tasks -->
              <article class="card p-5 space-y-4">
                <header class="flex items-center justify-between gap-2">
                  <div>
                    <h2 class="text-[15px] font-semibold text-slate-800">
                      Nhiệm vụ trong hồ sơ
                    </h2>
                    <p class="text-[12.5px] text-slate-500">
                      Nhiệm vụ trong hồ sơ
                    </p>
                  </div>
                  <!-- (removed) Thêm nhiệm vụ -->
                </header>

                <ul class="space-y-3 text-[13px]" data-case-tasks>
                  <li
                    class="rounded-lg border border-slate-100 p-3 text-center text-sm text-slate-500"
                    data-case-tasks-placeholder
                  >
                    Đang tải nhiệm vụ...
                  </li>
                </ul>
              </article>

              <!-- Activity / Log -->
              <article class="card p-5 space-y-4">
                <header class="flex items-center justify-between gap-2">
                  <div>
                    <h2 class="text-[15px] font-semibold text-slate-800">
                      Nhật ký hồ sơ
                    </h2>
                    <p class="text-[12.5px] text-slate-500">
                      Nhật ký hoạt động hồ sơ
                    </p>
                  </div>
                  <!-- CV: được ghi nhật ký -->
                  <button
                    class="h-9 rounded-md border border-slate-200 px-3 text-sm font-medium text-slate-700 hover:bg-slate-50"
                    data-action="add-activity"
                    type="button"
                  >
                    Ghi nhật ký
                  </button>
                </header>

                <ul class="space-y-3 text-[13px]" data-case-activity>
                  <li
                    class="rounded-lg border border-slate-100 p-3 text-center text-sm text-slate-500"
                    data-case-activity-placeholder
                  >
                    Đang tải nhật ký hoạt động...
                  </li>
                </ul>
              </article>
            </section>

            <!-- Related documents -->
            <article class="card p-5 space-y-4">
              <header class="flex items-center justify-between gap-2">
                <div>
                  <h2 class="text-[15px] font-semibold text-slate-800">
                    Văn bản liên quan
                  </h2>
                  <p class="text-[12.5px] text-slate-500">
                    Văn bản liên quan trong hồ sơ
                  </p>
                </div>

                <div class="flex items-center gap-2">
                  <a
                    href="vanbanden.html"
                    class="h-9 rounded-md border border-slate-200 px-3 text-sm font-medium text-slate-700 hover:bg-slate-50"
                    >Văn bản đến</a
                  >
                  <a
                    href="vanbandi.html"
                    class="h-9 rounded-md border border-slate-200 px-3 text-sm font-medium text-slate-700 hover:bg-slate-50"
                    >Văn bản đi</a
                  >
                </div>
              </header>

              <ul class="space-y-3 text-[13px]" data-case-docs>
                <li
                  class="rounded-lg border border-slate-100 p-3 text-center text-sm text-slate-500"
                  data-case-docs-placeholder
                >
                  Đang tải văn bản liên quan...
                </li>
              </ul>
            </article>
          </div>
        </main>
      </div>
    </div>

    <!-- Toast container (used by page scripts) -->
    <div id="toast" class="toast" aria-live="polite"></div>

    <!-- ================= FOOTER ================= -->
    <div data-include="footer"></div>
  </body>
</html>
